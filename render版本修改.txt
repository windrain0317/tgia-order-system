###############################
tgia-backend/server.js ä¿®æ”¹

const express = require('express');
const cors = require('cors');
const bodyParser = require('body-parser');
const fs = require('fs');
const path = require('path');
const ExcelJS = require('exceljs');

const app = express();
const PORT = process.env.PORT || 3001;  // âœ… ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç•¶ä½œport

// âœ… CORS é…ç½®ï¼ˆå…è¨± Render å‰ç«¯ï¼‰
app.use(cors({
  origin: [
    process.env.FRONTEND_URL || 'http://localhost:3000',
    'https://tgia-frontend.onrender.com'  // å‰ç«¯ URL
  ],
  credentials: true
}));

app.use(bodyParser.json({ limit: '50mb' }));

// âœ… ä½¿ç”¨è‡¨æ™‚ç›®éŒ„
const ordersDir = path.join(__dirname, 'orders');  // ä½¿ç”¨ç•¶å‰ç›®éŒ„
const templatesDir = path.join(__dirname, 'templates');

// ç¢ºä¿ç›®éŒ„å­˜åœ¨
if (!fs.existsSync(ordersDir)) {
  fs.mkdirSync(ordersDir, { recursive: true });
}

// å¥åº·æª¢æŸ¥ç«¯é»ï¼ˆé˜²æ­¢ä¼‘çœ ï¼‰
app.get('/health', (req, res) => {
  res.json({ status: 'ok', timestamp: new Date().toISOString() });
});

// ... å…¶ä»–ä¿æŒä¸è®Š ...

app.listen(PORT, '0.0.0.0', () => {  // âœ… ç›£è½æ‰€æœ‰ç¶²è·¯ä»‹é¢
  console.log(`ğŸš€ å¾Œç«¯æœå‹™å™¨é‹è¡Œæ–¼ port ${PORT}`);
  console.log(`ğŸ“ è¨‚å–®å„²å­˜ä½ç½®: ${ordersDir}`);
  console.log(`ğŸ“‹ Excelæ¨¡æ¿ä½ç½®: ${templatesDir}`);
});



###############################
å‰ç«¯App.js/server.js ä¿®æ”¹

http://192.168.60.62:3001/ => æ”¹æˆ https://tgia-backend.onrender.com/


--------éƒ¨å±¬éƒ¨åˆ†-------------------
å¾Œç«¯
##############
ğŸ“ åŸºæœ¬è³‡è¨Š	
	
æ¬„ä½	å¡«å¯«å…§å®¹
Name	tgia-backend
Region	Singapore
Branch	main
Root Directory	tgia-backend âš ï¸ é‡è¦
	
	
ğŸ“ Runtime è¨­å®š	
	
æ¬„ä½	é¸æ“‡/å¡«å¯«
Runtime	Node
Build Command	npm install
Start Command	npm start

#########
å‰ç«¯
#########
æ¬„ä½	å¡«å¯«å…§å®¹
Name	tgia-order
Branch	main
Root Directory	ç•™ç©º âš ï¸ ä¸è¦å¡«ä»»ä½•æ±è¥¿ï¼
	

	
	
ğŸ“ Build è¨­å®š	
	
æ¬„ä½	å¡«å¯«å…§å®¹
Build Command	npm install && npm run build
Publish Directory	build
	
	
ğŸ” ç’°å¢ƒè®Šæ•¸ï¼ˆé‡è¦ï¼ï¼‰	
	
å¾€ä¸‹æ»¾å‹•æ‰¾åˆ° ã€ŒEnvironment Variablesã€ï¼š	
	
é»æ“Š ã€ŒAdd Environment Variableã€ï¼š	
	
Key	Value
REACT_APP_API_URL	https://tgia-backend-xxxx.onrender.com
	
	


